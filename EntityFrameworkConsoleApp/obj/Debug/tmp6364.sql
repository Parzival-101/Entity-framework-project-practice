DECLARE @CurrentMigration [nvarchar](max)

IF object_id('[dbo].[__MigrationHistory]') IS NOT NULL
    SELECT @CurrentMigration =
        (SELECT TOP (1) 
        [Project1].[MigrationId] AS [MigrationId]
        FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = N'EntityFrameworkConsoleApp.Migrations.Configuration'
        )  AS [Project1]
        ORDER BY [Project1].[MigrationId] DESC)

IF @CurrentMigration IS NULL
    SET @CurrentMigration = '0'

IF @CurrentMigration < '202005261254346_InitialModel'
BEGIN
    CREATE TABLE [dbo].[Genres] (
        [Id] [int] NOT NULL IDENTITY,
        [Name] [nvarchar](max),
        [Video_Id] [int],
        [Video_Id1] [int],
        CONSTRAINT [PK_dbo.Genres] PRIMARY KEY ([Id])
    )
    CREATE INDEX [IX_Video_Id] ON [dbo].[Genres]([Video_Id])
    CREATE INDEX [IX_Video_Id1] ON [dbo].[Genres]([Video_Id1])
    CREATE TABLE [dbo].[Videos] (
        [Id] [int] NOT NULL IDENTITY,
        [Name] [nvarchar](max),
        [ReleasedDate] [datetime],
        [Genre_Id] [int],
        CONSTRAINT [PK_dbo.Videos] PRIMARY KEY ([Id])
    )
    CREATE INDEX [IX_Genre_Id] ON [dbo].[Videos]([Genre_Id])
    ALTER TABLE [dbo].[Genres] ADD CONSTRAINT [FK_dbo.Genres_dbo.Videos_Video_Id] FOREIGN KEY ([Video_Id]) REFERENCES [dbo].[Videos] ([Id])
    ALTER TABLE [dbo].[Genres] ADD CONSTRAINT [FK_dbo.Genres_dbo.Videos_Video_Id1] FOREIGN KEY ([Video_Id1]) REFERENCES [dbo].[Videos] ([Id])
    ALTER TABLE [dbo].[Videos] ADD CONSTRAINT [FK_dbo.Videos_dbo.Genres_Genre_Id] FOREIGN KEY ([Genre_Id]) REFERENCES [dbo].[Genres] ([Id])
    CREATE TABLE [dbo].[__MigrationHistory] (
        [MigrationId] [nvarchar](150) NOT NULL,
        [ContextKey] [nvarchar](300) NOT NULL,
        [Model] [varbinary](max) NOT NULL,
        [ProductVersion] [nvarchar](32) NOT NULL,
        CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
    )
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202005261254346_InitialModel', N'EntityFrameworkConsoleApp.Migrations.Configuration',  0x1F8B0800000000000400ED5ACD6EE33610BE17E83B083AB545D6B2B39736B077917A3785D1CD0FE264D1DB8291C60EB114A59254D66ED127EBA18FD457E850FFA2244BB2DDDD1C1601029BE40CE7E7E37066E87FFFFE67FA7AE333EB0984A4019FD993D1D8B680BB8147F97A66476AF5E247FBF5AB6FBF99BEF5FC8DF53E5BF752AF434A2E67F6A352E199E348F7117C22473E75452083951AB981EF102F704EC7E39F9CC9C4016461232FCB9ADE465C511FE22FF8751E7017421511761978C0643A8E33CB98AB75457C9021716166BF454AB5BD1038F229101F9154060CCEC3D0B6CE192528D012D8CAB608E781220AC53DBB97B05422E0EB65880384DD6D43C0752BC224A46A9C15CBFB6A343ED51A390561C6CA8DA40AFC810C272F53133926F95E86B67313A211139369AD6343CEEC5F800BD4DCDCE96CCE845EB5C3C8A398F4C46A5D70928304B1A4FF4EAC79C4542460C6215282B013EB267A60D4FD15B677C147E0331E3156961725C6B9CA000EDD882004A1B6B7B04AB55878B6E554E91C9330272BD1242A2EB87A796A5B57B839796090C3A1648EA50A04A0C2208802EF862805826B1E106B5FDBDDD84BFFCF7643FCE189B2AD4BB279077CAD1E67367EB4AD0BBA012F1B4925B8E7140F20122911416D932BF244D7B17CC676EFA907816DDD028B67E5230D93B390F8EC433A7F2102FF3660190A92E10FCB2012AE9636A8CFDD11B106355010D925896C1145EE9245360A33750A84EFC47D6A827D701F937EC5FD97C3BDB109820B8804EF0D8A986DA63FDF517FC09989A1D50CD504FBD98202AAE5F11A542B9343A07A2E65E0D258863256B3FDABEABCE59EB54B98C4F2B912687D44220D117BB8F3CC1E8F46939A895A78663A9478A6974795E70FA69A258576EB590E4E6D223546AA6112B5F26BD0B0A7D5F653B2DD99CD41B043CD0E6736C6CE2E55FB3A338132C6404528068B02B87FC483B0510DB11693B134DCCAF4A49BB26BA64B50C6112DCE4DD51C35D5ABE4D95D53234F3537C84B9A1A3CF250505AD2142ACCF8DD715873790B519D9E2C3277965864329AD74355AD1E2A575286BAC6AD87B6F3D8760ADB79503B2D7698BA8D1E6E3FBFDD27786F8D1B3D3C58E5ECC6C98F69515C3949759555614E4B1936BD246188B778A92C4B47AC655293CD5F2C8757297EC2C3716543B1924B9BEF8439095983318B5BA3A417544885973F79203A8F987B7E6D592528B5448C6CAB4ADCA97B2A8B23D972FD3921E9A89A4C5E851D9164ED6372156B092660EA7471614C18110D59DE3C6091CFDB32C55DD449DE56A64F46EA1CA68E21B86925A7662603AEA6D17BB9A4F5FCEDE392C6E0D5C3252D745FDA256D1CAA7972995375E6F33BB91AB11A3C9DDFB8BDDD9953F43A473AEA3695AEC6155D374C2F4727AC9ADCAD0D936F3C50A6F446D853A6C1D2A0813D1AE7B10BA92BC6BC56EBA3A979290D46412509E91D6633827D31D090731C08815A823E18030D99D4B38440BD143922067A46822A45AFF0BDDBE287468284D5112241536EF8AC60D0A669370A6A59AAB924BF8DF26CD5C84AA76986D8FD82504B199325B685BA3FA171315D5C6EA5027FA4178C96BFB339A378FF150B2E09A72B902AE9E3D9A7E3C9A9F1FAF07C5E021C293DD6E739E0B37722A9366967AFB1D6A8ECDF7CE44F44B88F447CE793CDF7654E7D1A8CC5AD5692B6D6CD58700F3633FBCF98E8CC5AFCF621A33BB1AE0542E5CC1A5B7FEDBBF764DFCD27FD771FD83CFF8A92CE36B4879F55DC861EC6AB889EC39C9ED11DEEF343BAD007F79DD37EDEF0BE2E220D840602613A0D50022F905AB17223287769485845E6FAEDD907BEDA80393F73E60D84C0352E2B6AF5D96857C5907335CE5197EE476EC47FF5F4513DDD58187C5E57773C471CFC00D1133147F2757F171CE8EBFEA0DA95FD1FDDD5CD2F32F51E698F2797F61797245DC67BEE413B36B9635A1E1E1A5F63DA1F639A38B734BCFFF7879A7AD7BDBB6F5F6FF63F97A79867ABD2C1CF2DDD02EE6388E33CA8D44B523CDBA59FBE615891745DB0D0553607B772AAF3350BBE0AB2F06248942D3112CA4B50049351722E145D1157E1B40B52C63FC8784F58A4DB28FE03780B7E1DA93052A832F80FACF2030F1DA476ED1FBF1A55659E5E87F16F298EA1028A49753E7DCD7F8E28F372B92FEA597E1B0B1DFDD2D241FB52E91262BDCD395D05BC27A3D47C79D0BE033F64C84C5EF32579827D64BB97F00ED6C4DD669D857626DD8EA89A7DFA8692B520BE4C7914F4F81531ECF99B57FF01ADBF96E1012A0000 , N'6.1.3-40302')
END

IF @CurrentMigration < '202005261317523_InitialModel1'
BEGIN
    IF object_id(N'[dbo].[FK_dbo.Genres_dbo.Videos_Video_Id]', N'F') IS NOT NULL
        ALTER TABLE [dbo].[Genres] DROP CONSTRAINT [FK_dbo.Genres_dbo.Videos_Video_Id]
    IF object_id(N'[dbo].[FK_dbo.Genres_dbo.Videos_Video_Id1]', N'F') IS NOT NULL
        ALTER TABLE [dbo].[Genres] DROP CONSTRAINT [FK_dbo.Genres_dbo.Videos_Video_Id1]
    IF object_id(N'[dbo].[FK_dbo.Videos_dbo.Genres_Genre_Id]', N'F') IS NOT NULL
        ALTER TABLE [dbo].[Videos] DROP CONSTRAINT [FK_dbo.Videos_dbo.Genres_Genre_Id]
    IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Video_Id' AND object_id = object_id(N'[dbo].[Genres]', N'U'))
        DROP INDEX [IX_Video_Id] ON [dbo].[Genres]
    IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Video_Id1' AND object_id = object_id(N'[dbo].[Genres]', N'U'))
        DROP INDEX [IX_Video_Id1] ON [dbo].[Genres]
    IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Genre_Id' AND object_id = object_id(N'[dbo].[Videos]', N'U'))
        DROP INDEX [IX_Genre_Id] ON [dbo].[Videos]
    CREATE TABLE [dbo].[VideoGenres] (
        [Video_Id] [int] NOT NULL,
        [Genre_Id] [int] NOT NULL,
        CONSTRAINT [PK_dbo.VideoGenres] PRIMARY KEY ([Video_Id], [Genre_Id])
    )
    CREATE INDEX [IX_Video_Id] ON [dbo].[VideoGenres]([Video_Id])
    CREATE INDEX [IX_Genre_Id] ON [dbo].[VideoGenres]([Genre_Id])
    DECLARE @var0 nvarchar(128)
    SELECT @var0 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Genres')
    AND col_name(parent_object_id, parent_column_id) = 'Video_Id';
    IF @var0 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Genres] DROP CONSTRAINT [' + @var0 + ']')
    ALTER TABLE [dbo].[Genres] DROP COLUMN [Video_Id]
    DECLARE @var1 nvarchar(128)
    SELECT @var1 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Genres')
    AND col_name(parent_object_id, parent_column_id) = 'Video_Id1';
    IF @var1 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Genres] DROP CONSTRAINT [' + @var1 + ']')
    ALTER TABLE [dbo].[Genres] DROP COLUMN [Video_Id1]
    DECLARE @var2 nvarchar(128)
    SELECT @var2 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Videos')
    AND col_name(parent_object_id, parent_column_id) = 'Genre_Id';
    IF @var2 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Videos] DROP CONSTRAINT [' + @var2 + ']')
    ALTER TABLE [dbo].[Videos] DROP COLUMN [Genre_Id]
    ALTER TABLE [dbo].[VideoGenres] ADD CONSTRAINT [FK_dbo.VideoGenres_dbo.Videos_Video_Id] FOREIGN KEY ([Video_Id]) REFERENCES [dbo].[Videos] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[VideoGenres] ADD CONSTRAINT [FK_dbo.VideoGenres_dbo.Genres_Genre_Id] FOREIGN KEY ([Genre_Id]) REFERENCES [dbo].[Genres] ([Id]) ON DELETE CASCADE
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202005261317523_InitialModel1', N'EntityFrameworkConsoleApp.Migrations.Configuration',  0x1F8B0800000000000400ED59DB6EE336107D2FD07F10F4D416592B979736B077913A49117473419C047D0B1869EC104B912A49A5768B7E591FFA49FD850E751729D9B211648BB60810D824E77E389C19FFF5C79FE30FCB98792F2015157CE21F8CF67D0F782822CA17133FD5F377DFFA1FDE7FF9C5F82C8A97DE4379EEC89C434AAE26FEB3D6C97110A8F01962A246310DA55062AE47A188031289E0707FFFBBE0E0200064E1232FCF1BDFA65CD318B22FF8752A7808894E09BB14113055ACE3CE2CE3EA5D911854424298F86748A957E712577E11F213922AC1E024497CEF8451820ACD80CD7D8F702E34D1A8EEF1BD829996822F66092E1076B74A00CFCD09535098715C1F1F6AD1FEA1B128A8094B5661AAB488B764787054B828B0C97772B45FB9109D98BBCC589D3972E2FF005CA2E5B6A4E32993E6D41A278F32D23DAFF7C05E0512C492F9DBF3A629D3A9840987544BC2F6BC9BF489D1F04758DD894FC0273C65ACA92F6A8C7BAD055CBA912201A957B7302FACB8887C2F68D305366145D6A0C94DBCE0FAE8D0F7AE5038796250C1A1E18E991612D0609044437443B406C90D0FC8AC77A45BB2CCFF521AE20F6F94EF5D92E547E00BFD3CF1F1A3EF9DD32544E54AA1C13DA778019148CB141C2157E4852E32FD2C710F3402A17CEF1658B6AD9E69925F8651B6F598850E0F9C4B11DF0A569214EB8F77442E40A3C2A263732652195ACA8C831A586BE19671DA0D6E19E9FF70FB7C70B38420B88028884E51C55298F97C47E32DA05A227157A89668EC846A89E321503D514A8434D3A189D5527EDB9C331E79EB94C93D5F1981DE4724D204B1879227FE378E7F7A185617B1665824ECB50CC741C31AF73EE29DD18422B86A437FCD1661A93BEE26BE99C5F55405326CDD0DD319682BA4B59FDBAA3BA6B7C9CBE4E59017AEB4C81B965A3C2AE8348E7441CBBEEF1B825BE95BAB1A0C645186B3C1A2D4D14E276DB33AF05B05B1AE9082BC442A4BA9A0A7961A5F9224C19CD0A8AD8A156F961756D377B3ED4B8D38E71184AAA3E2A8B4AD246186230BB07651346A7A4EA5D2984AC8133159691AC5CEB116647BF0548A6AA1D28D5489B2F2B8F99C936C287D6C5EB51F91641163AACEAC043BDA2E5D56DD124664C79B31152C8D79DFBBB38E3A7F059AF4F98ACB611C588ADB5E0A1C375970B59D3E2824C5F5799D90E4D961FB90F4D07DEE90F47168BFBA4D4EED9DB70F723B637544BACAC783C359517406ADF33299D4DB550D5B59DCF5CEA068E7ACBA626EBC5309DE52A7E259D851A78CC9963AD9EF8B1B50E799B18F5470AA9E1BEB591917297E731FEFE4FCFC88EFA1EE2FE828CCF7B395D2108FCC81D1EC67366514015C1FB8249CCE41E9BCACF7B1873EB46600FF9C7E3C502A62439AF2376F4CA871E9C6D6C3E95B86F722FC85C8F099C8AF62B2FCBAC9C9ED37B6EC28FFD3BE1AD69B45F85967BDD9EBF97D67A0AE49A4EEE1BE0CB7395EB59846D49C06E78247B09CF8BF6544C7DEC54F8F25DD9E772D31BD1C7BFBDEEF5B47B3567B3BE125DD16C2776B6A3B1F43BB77D9DCCD1E386FF0353F45006AF04EC23CCB4E890A49E47ACC3C506BA5172DA3ADC29026D8CC96610ED2DC45C24C69A125BE644ED97323290F694258CB6AF7311E92418C49153F7BE71412E02635B8060E91B6AEF6A8585BEEDDE480DE41C106E074552C8DD0B951EB0CD8BF0C38C343F9B6C0595720BE3A70BA274C6E573F6084D43F41CAEB437CD29E4C7ACAB362CF20A573BAD43F5CEAE2DC3DE5E9E6DCA77873B357468F091B275CD5686AFDA0ABA7F77113BED31D6F1C70B5CCB63BB4E1B3AD41C69643B40DC67637556E9272A6336F65EC16833CB793C21BDAF8DD143384A28B9A85F9159543D8BA9BD5990B3E176592B0342A8F5885CC256882D52339919ACE49A8713B04A5B29F151E084B4D231F3F4174C1AF539DA41A4D86F889B57EA630A9669DFC6C5AD9D6797C9D64BF08BC8609A8263505F035FF3EA52CAAF43EEFA8A57A58981C56D4FA2696DAD4FC8B55C5E94AF0818C0AF755A9F70EE284213375CD67E40576D1ED5EC1475890705536C4FD4C3607A2EDF6F129250B496255F0A8E9F12B62388A97EFFF06B2958C693E200000 , N'6.1.3-40302')
END

IF @CurrentMigration < '202005261323327_FixedRelationBetweenVideoAndGenre'
BEGIN
    IF object_id(N'[dbo].[FK_dbo.VideoGenres_dbo.Videos_Video_Id]', N'F') IS NOT NULL
        ALTER TABLE [dbo].[VideoGenres] DROP CONSTRAINT [FK_dbo.VideoGenres_dbo.Videos_Video_Id]
    IF object_id(N'[dbo].[FK_dbo.VideoGenres_dbo.Genres_Genre_Id]', N'F') IS NOT NULL
        ALTER TABLE [dbo].[VideoGenres] DROP CONSTRAINT [FK_dbo.VideoGenres_dbo.Genres_Genre_Id]
    IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Video_Id' AND object_id = object_id(N'[dbo].[VideoGenres]', N'U'))
        DROP INDEX [IX_Video_Id] ON [dbo].[VideoGenres]
    IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Genre_Id' AND object_id = object_id(N'[dbo].[VideoGenres]', N'U'))
        DROP INDEX [IX_Genre_Id] ON [dbo].[VideoGenres]
    ALTER TABLE [dbo].[Videos] ADD [Genres_Id] [int]
    CREATE INDEX [IX_Genres_Id] ON [dbo].[Videos]([Genres_Id])
    ALTER TABLE [dbo].[Videos] ADD CONSTRAINT [FK_dbo.Videos_dbo.Genres_Genres_Id] FOREIGN KEY ([Genres_Id]) REFERENCES [dbo].[Genres] ([Id])
    DROP TABLE [dbo].[VideoGenres]
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202005261323327_FixedRelationBetweenVideoAndGenre', N'EntityFrameworkConsoleApp.Migrations.Configuration',  0x1F8B0800000000000400ED59D96EE336147D2FD07F10F4D416192BC9BCB4863D83D4490AA393057112F42DA0A56B87188A54492A63B7E897F5A19FD45FE8A57691B22D1BB3146811209049DEFDF02ED2DF7FFE357ABB8A99F7025251C1C7FEC9E0D8F7808722A27C39F653BD78F5BDFFF6CDD75F8D2EA278E53D96E75E9B7348C9D5D87FD63A1906810A9F21266A10D3500A25167A108A382091084E8F8F7F084E4E0240163EF2F2BCD15DCA358D21FB813F27828790E894B02B110153C53AEECC32AEDE358941252484B17F81947A7D2971E58390EF915409066749E27B678C125468066CE17B8473A1894675870F0A665A0ABE9C25B840D8FD3A013CB7204C4161C6B03EDED7A2E3536351501396ACC2546911EFC9F0E475E1A2C0263FC8D17EE5427462EE326375E6C8B1FF13708996DB92861326CDA92D4E1E64A447DEC603471548104BE6EFC89BA44CA712C61C522D093BF26ED339A3E1CFB0BE17EF818F79CA58535FD418F75A0BB8742B450252AFEF605158318D7C2F68D305366145D6A0C94D9C72FDFAD4F7AE51389933A8E0D070C74C0B09683048A221BA255A83E4860764D63BD22D59E67F290DF18737CAF7AEC8EA1DF0A57E1EFBF8E87B97740551B95268F0C0295E4024D2320547C83579A1CB4C3F4BDC238D4028DFBB03966DAB679AE49761906D3D65A1C3039752C477829524C5FAD33D914BD0A8B0E8D89C8954869632A3A006D656B8659C0E835B46FA3FDCBE1CDC2C21082E200AA27354B114669EEF69BC07544B241E0AD5128D9D502D71DC07AA674A8990663A34B15ACA6F9B73C1236F9B32B9E72B23D0FB88449A20F650F2D8FFCEF1CF0686D545AC191609BBCDF0783038B1CD6C18E45E49BC369A50C4576DEB6FD922AC74C7F5C4B259DC505580C356DF309D81B6A25ABBBAADBD637D9BBCCC5F0E79E14D8BBC61A9C5A3424FE34817BAEC2BBF23BE95BEB5AA414F1665441B2C4A1DED8CD236AB03C25510EB2629C8BBA4B29B0A36B453A32B922498161AED55B1E2CDF2DE6AF26AB67FB711E73C825075341D95B695244C726409D62E8A464D2FA9541AB309991393982651EC1C6B4176039E4A512D54BA912A51561E37CF39C98EEEC7E655FB1149963166EBCC4AB0A3EDD2650D2E614476948D896069CC37959E6DD4792168D2E72B2E875160296E7B2970DC64C1D5767AAF9014D7E7E38424CF0EFB876403DD970EC9260EEDC2DBE4D4DEF9FC416E67AC8E4857F9B877382B8A5E413359B7AB17B6B2AFEB985E812E9874C5DB78A692BCA75245553950A9BDB5410F47346B73A6CAF4A055F7D7CB54BB2CB93870AA937DA4426155A5AC6A342A2AC3EE37004EA9C88FF81E1AFF823EC632315B2B0DF1C01C18CC7E65134611F7F5812BC2E90294CE07021FA7EF53EBEDC1BF67920F948A589F71FEB38F34D4B874E7D0E24C3CFDA718FE4264F84CE43731597DDBE4E44E2A7BCEA2FF695FF59BEA227CD6D954B71FAF46126998EE0C17531EC16AECFF9E510DBDE92F4F15E1917723F1920EBD63EF8FC3A27EE05857CC29FBCF5D6EE77FC83888580369A0409829885A6222758AF52D0EF6214D086BE9EC96913E00360EACF8D93BE7900037C86C99D547D0D68A59B1B5AED22EE3F71C6DDD71A2C7ECBA7974CD2B0C5E8AB9896C0EC70D135CE758BB79AAEDE2DC3D5E7ED289B7657F6364D939E2BA73F1A79969DDEE0031D3F88A8078557459B3301D0F87B08596EACC942F44895B4BA3F28895D5AE4013CC88E44C6ABA20A1C6ED1094CA5EB23D12969A9E369E4334E537A94E528D26433C67AD977606FCDBE467837B5BE7D14D92BD1FFB1826A09AD424F51BFE634A5954E97DE9969A4D2CCCAD2AEA9789A536756CB9AE385D0BDE9351E1BE2A19DC439C3064A66EF88CBCC021BA3D2878074B12AECB266F3393DD8168BB7D744EC912671555F0A8E9CD97B1C07C1A7BF30F0F16C7CE4C1B0000 , N'6.1.3-40302')
END

IF @CurrentMigration < '202005281118279_VideoGenreRelation'
BEGIN
    IF object_id(N'[dbo].[FK_dbo.Videos_dbo.Genres_Genres_Id]', N'F') IS NOT NULL
        ALTER TABLE [dbo].[Videos] DROP CONSTRAINT [FK_dbo.Videos_dbo.Genres_Genres_Id]
    IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Genres_Id' AND object_id = object_id(N'[dbo].[Videos]', N'U'))
        DROP INDEX [IX_Genres_Id] ON [dbo].[Videos]
    ALTER TABLE [dbo].[Videos] ALTER COLUMN [Genres_Id] [int] NOT NULL
    CREATE INDEX [IX_Genres_Id] ON [dbo].[Videos]([Genres_Id])
    ALTER TABLE [dbo].[Videos] ADD CONSTRAINT [FK_dbo.Videos_dbo.Genres_Genres_Id] FOREIGN KEY ([Genres_Id]) REFERENCES [dbo].[Genres] ([Id]) ON DELETE CASCADE
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202005281118279_VideoGenreRelation', N'EntityFrameworkConsoleApp.Migrations.Configuration',  0x1F8B0800000000000400ED59CD6EE33610BE17E83B083AB545D64AB297D6B077913A49117413075112F416D0D2D82196225592CADA2DFA643DF491FA0A1DEA5F9464CB69B329D0224020939CFF6F6638D29FBFFF3179BF8E98F3045251C1A7EED1E8D075800722A47C357513BD7CF3ADFBFEDD975F4CCEC268EDDC17E7DE9A7348C9D5D47DD43A1E7B9E0A1E21226A14D1400A25967A1488C823A1F08E0F0FBFF38E8E3C40162EF2729CC94DC2358D20FD813F67820710EB84B04B110253F93AEEF82957E78A44A06212C0D43D434ABD3997B8F249C88F48AA04839338769D1346092AE4035BBA0EE15C68A251DDF19D025F4BC1577E8C0B84DD6E62C0734BC214E4668CABE3432D3A3C3616791561C12A489416D19E0C8FDEE62EF26CF26739DA2D5D884ECC5C66AC4E1D39757F002ED1725BD278C6A439B5C5C9A394F4C0E93D70508204B164FE0E9C59C2742261CA21D192B003E73A59301AFC089B5BF111F894278CD5F5458D71AFB1804BD752C420F5E60696B91517A1EB784D3ACF262CC96A349989175CBF3D769D2B144E160C4A38D4DCE16B21010D06493484D7446B90DCF080D4FA96744B96F95F4843FC6146B9CE25597F00BED28F53171F5DE79CAE212C56720DEE38C50444222D136809B9224F7495EA6789BBA72108E53A37C0D26DF548E32C19B2A03D1407CEA5886E042B7090AF3FF82291815158746CDE12B902DD5466E255C0DA0AB794C7F3E09692FE0FB7D7839B2504C1054441788A2A16C2CCF32D8DF6806A0AADBF01D5028D9D502D703C04AA274A8980A63AD4552BE437CD39E3A1B32D6F32CF9746A0F711893446ECA164ECADAE8DB1393F45776A704E82AC4FCC880A48D876246A1F0ED2A5744CA54B9E7C4D5DBEB1DD5373443B9531DD34A188CB2A9F7F491761AD3BD21ADB6D9ED92A0795ADBB61EA83B6D05085A8E9466F3B79819516796EB9455EB3D452A1445DED48172AED30EEC045A96F65A937904511CE1A8B42471B214DB33AA05F06B1BA5C79D9EDAAB885793DD7B0C92589632C27B56B59BEE2F8D99D6CF6C6DFFF9612653CBC40755C564A6D4B49581CC90AAC5D148D9A9E53A9345621B220A6A0CDC2A875AC01D91E3C15A21AA86C47AA405971DC3C67243B6E4D36AFCA8F48B28AB0CAA756820D98365D7A31268CC88E7633132C89785FCBDA469D35903A7DB6D2E630F12CC56D2F792D37B50A5AD3E98342D29B7FCF0949561DF60F490FDD6B87A48F43B361D73935773E7F909B15AB23F9CA7A3C38C34A8A41413355B7EB626215F0B66306053AAB1F0F5DF14EFB7941BEA752794B78A652FB6963779576185BCDC53E5282A86C32563399E4857DF7E0DFAAF4D911D741DD9FD03958E5FD8DD2108DCC8191FF339B318AB0AD0E5C124E97A0743607B838741F5B2F0DFE3D03BCA754C8864CF19F7D92A1C6A53B6795D6A0337C78E14F44068F447E1591F5D7754EED0165CF11F43FEDAB61C35C88CF3A1DE6F6E3552B7735D35BB3C1050F613D757F4DA9C6CEC54F0F25E181339798A463E7D0F96D874F5E629C7BB5012E1F53F61CD9CC4B545882341822CC34422DB102B79AF4B5A43CA031610D5BDBED6308F28D21253F7BE71462E006D20DB38608DADA294BB696437719BFE748DB1E2306CCACFD236BD69A309B1626B2198EBB87BFEE71B67F9AEDE2DC3313BEF8A4DB9E6DB78EB60DCB6AD7B2179965DBD70AC44CEDAB03E255D155C5C27C83E01034D0529EB9E04B51E0D6D2A8386295C34BD0044B2939919A2E49A0713B00A5D29772F78425E62E1B2D20BCE0F344C7894693215AB0C64B3E03FE6DF2D381BDA9F3641EA7EFD3FE0913504D6ABAC19C7F9F5016967A9F77D4E31E1626ABF2C66762A94D035C6D4A4E57820F6494BBAF2C06B710C50C99A939F7C9133C47B73B051F6045824D713BEC67B23B104DB74F4E2959E18CA2721E15BDF992E6994F69EFFE022865DE027C1B0000 , N'6.1.3-40302')
END

IF @CurrentMigration < '202005281203053_Add_ClassificationOnVideo'
BEGIN
    ALTER TABLE [dbo].[Videos] ADD [Level] [int] NOT NULL DEFAULT 0
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202005281203053_Add_ClassificationOnVideo', N'EntityFrameworkConsoleApp.Migrations.Configuration',  0x1F8B0800000000000400ED59CD6EE33610BE17E83B083AB54536CACFA50DEC5DA44EB2301A27419404BD05B4347688A54895A4B2768B3E590F7DA4BE4287FA1725D972B6D92DD02240205133C399E1377FF45F7FFC397AB78A98F30C5251C1C7EEE1FE81EB000F4448F972EC267AF1E67BF7DDDBAFBF1A9D87D1CA7928E88E0D1D727235769FB48E4F3C4F054F1011B51FD1400A25167A3F10914742E11D1D1CFCE01D1E7A80225C94E538A3DB846B1A41FA82AF13C103887542D84C84C054BE8E5FFC54AA73452250310960EC9E23A75E5F485CF928E407645582C1691CBBCE29A30415F2812D5C87702E34D1A8EEC9BD025F4BC1977E8C0B84DDAD6340BA05610A72334E2AF2A1161D1C198BBC8AB11015244A8B68478187C7B98B3C9BFD458E764B17A213339719AB53478EDDF7C0255A6EEF743261D2506D70F27ECABAE7F412EC9520412C99BF3D6792309D48187348B4246CCFB949E68C063FC1FA4E7C003EE60963757D5163FCD658C0A51B2962907A7D0B8BDC8A69E83A5E93CFB3194BB61A4F66E294EBE323D7B9C2CDC99C4109879A3B7C2D24A0C1208986F086680D921B19905ADFDADDDACBFC2F7643FC6144B9CE8CAC2E812FF5D3D8C547D7B9A02B088B955C837B4E31009149CB045A9B5C9167BA4CF5B3B67BA02108E53AB7C0D2CFEA89C659306487F658105C4811DD0A56E0205F7FF4452203A3B0E8F87847E4127453999157016B23DC52192F835BCAFA3FDCBE1CDCAC4D105C40148467A862B19979BEA3D156DE4B7806566A687039614429BAA0419EE85ADE198AFD14AB9F80FD02DE9DD82F026318F693A8867CDBC0A9BA606459D59E97844453E62BC406222204C9D688A03A769B473183680E3237D3A70C5B08D779202CC1D7C3D6C135A8DF0B1696B4479B696FCC79A24F4BFAE3F639641EAF2F9E2A25029AFAA70E900205CDFDCE79E86C4A87155CF3B2394327D218DD866E37C6DAA9E39A9F619468704E83ACFC4F880A48D88633EA1E0ED2A58467A54B9E539BBA7C673BA7E688768646A4684279E96B14F96BBA082BDD014DECA27274AA3C57D8BA1BA13E682B26AB4069BAD1DBCC5E446C8B3DB7DC62AF596AA950C67E8DA42B37D8C7B80517A5BE95A5DE4011C571D644143ADA08699AD59180CA43AC7A662F6B9A8BE6DAEBE9AE473312C718E3B56E3B5F71FCACD59EBCF1776F3EA34C8617A88E1EB4D4B6DC096B1E5982F515B7464D2FA8541A8B0B9913932B2761D4226B40B6074FC5560D54B64FAA4059416E9E33962DCDB02DABF223B22C232CDEA9956003A6CD97CE3B8411D9D1454C044B22DED7896CE2CEFA823A7FB6D29630F22CC56D2F792D37B5125AD3E9838EA437FE5E72245976D8FD487AF8BEF491F44968F6617549CD2FC325E6DD595D54BEF4F981D2CC7A1D015CE6F4C1515A720C3A7893B9BB5A4CAB08B41D33082C590E7AECC24CDA1314EC3B2A959795172AB59B3676656A1F63AB40D9242588CA426515A4515E1CB6DF09B5AA4546E23AA8FB333A072B85BF561AA27D43B0EFFFC2268C226C2B8219E174014A676DB07B74707864DD27FD7BEE763CA54236E482E7B30FB9D4B874EB18BB6DCADB30D7F26722832722BF89C8EADBBAA4F6ECBAE3EDC47FDA57C3E6FC109F753AE7EF26AB31F7A766EF68552D5FD684B40694298EADABB1FB5BCA75E24C7F7E2C19F79C6B89517EE21C38BF6FD9BE0F379F32537EB129329F95769C1BCD053D2C401A1012662AA99698C25B55FE46521ED098B086ADEDFA3324748C21A53CFBCB19C4C04D4C34CC1AB2D1C6525B8AB51CBACDF81DE7EAF62C336070EE9F9BB3DA86E13837279BE1B87B02ED9EA9FB47EA2EC93D83E9AB8FDBED017BE37CDDB0ACD6D7BDCA40DDEE4B1033B55FB410AF8A2E2B11E6F72D0E41032D25CD942F44815B4BA382C44A8733D004733139959A2E48A0F173004AA517BEF92DD979348770CAAF131D271A4D8668CE1A17C806FC9BF64F6F0D9A3A8FAEE3F46AF59F3001D5A4A69C5CF31F135ABB0DBCE8C8C73D224C54E595D39CA5361574B92E255D093E5050EEBE3219DC41143314A6AEB94F9EE125BADD2BB8842509D6457BD92F64FB4134DD3E3AA36489438ECA6554FCF88A180EA3D5DBBF01ABEF2524D81D0000 , N'6.1.3-40302')
END

